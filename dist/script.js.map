{"version":3,"file":"script.js","mappings":"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","sources":["webpack://todo-list/./src/js/main.js"],"sourcesContent":["'use strict';\r\n\r\nconst addInput = document.querySelector('#input'),\r\n    addBtn = document.querySelector('#add-btn'),\r\n    todoList = document.querySelector('#todo-list'),\r\n    todoListChecked = document.querySelector('#todo-list-checked'),\r\n    resetBtn = document.querySelector('#reset-btn'),\r\n    textItem = document.querySelector('.todo-item__text'), \r\n    line = document.querySelector('.todo-line');\r\n\r\n\r\n// Создаём новый пустой массив для заметок. Если массив уже лежит в localStorage, то берём его оттуда\r\nlet todoArr = localStorage.getItem('listItem') ? JSON.parse(localStorage.getItem('listItem')) : [];\r\nlet todoArrChecked = localStorage.getItem('listItemChecked') ? JSON.parse(localStorage.getItem('listItemChecked')) : [];\r\n\r\n// Функция рендера заметок из массивов в localStorage\r\nfunction itemRender() {\r\n    const todoArrParsed = JSON.parse(localStorage.getItem('listItem'));\r\n    const todoArrCheckedParsed = JSON.parse(localStorage.getItem('listItemChecked'));\r\n    todoList.innerHTML = '';\r\n    todoListChecked.innerHTML = '';\r\n    todoArrParsed.forEach((item, index) => {\r\n        const elem = document.createElement('div');\r\n        elem.classList.add('todo-item');\r\n        elem.innerHTML = `\r\n            <p class=\"todo-item__text\">${item}</p>\r\n            <button class=\"todo-item__correct-btn\" id=\"correct-btn\"></button>\r\n            <button class=\"todo-item__del-btn\" id=\"del-btn\">&times;</button>\r\n        `;\r\n        elem.setAttribute('data-item-id', index);\r\n        todoList.appendChild(elem);\r\n    });\r\n\r\n    todoArrCheckedParsed.forEach((item, index) => {\r\n        const elem = document.createElement('div');\r\n        elem.classList.add('todo-item', 'todo-item_checked');\r\n        elem.innerHTML = `\r\n            <p class=\"todo-item__text\">${item}</p>\r\n            <button class=\"todo-item__correct-btn\" id=\"correct-btn\"></button>\r\n            <button class=\"todo-item__del-btn\" id=\"del-btn\">&times;</button>\r\n        `;\r\n        elem.setAttribute('data-item-checked-id', index);\r\n        todoListChecked.appendChild(elem);\r\n    });\r\n\r\n    // Показывает и скрывает линию между списками по условию\r\n    if (todoArr.length === 0 || todoArrChecked.length === 0) {\r\n        line.style.display = 'none';\r\n    } else {\r\n        line.style.display = '';\r\n    }\r\n}\r\n\r\n// Функция отправляет текущий массив в localStorage\r\nfunction toLocalStorage() {\r\n    const serializedTodos = JSON.stringify(todoArr);\r\n    localStorage.setItem('listItem', serializedTodos);\r\n\r\n    const serializedTodosChecked = JSON.stringify(todoArrChecked);\r\n    localStorage.setItem('listItemChecked', serializedTodosChecked);\r\n}\r\n\r\n\r\n// Функция добавляет в текущий массив значение из инпута, а так же отправляет его в localStorage и рендерит\r\nfunction addNewTodoItem() {\r\n    addBtn.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n        if (addInput.value !== '') {\r\n            todoArr[todoArr.length] = addInput.value;\r\n            addInput.value = '';\r\n            toLocalStorage();\r\n            itemRender();\r\n        }\r\n    });\r\n\r\n}\r\n\r\n// Функция удаляет елемент по клику на кнопку, а так же отправляет массив в localStorage и рендерит\r\nfunction removeTodoItem() {\r\n    todoList.addEventListener('click', (e) => {\r\n        const target = e.target;\r\n        if (target.id === 'del-btn') {\r\n            todoArr.splice(target.parentNode.getAttribute('data-item-id'), 1);\r\n            toLocalStorage();\r\n            itemRender();\r\n        }\r\n    });\r\n\r\n    todoListChecked.addEventListener('click', (e) => {\r\n        const target = e.target;\r\n        if (target.id === 'del-btn') {\r\n            todoArrChecked.splice(target.parentNode.getAttribute('data-item-checked-id'), 1);\r\n            toLocalStorage();\r\n            itemRender();\r\n        }\r\n    });\r\n}\r\n\r\n// Функция переносит айтемы в состояние checked и возвращает\r\nfunction addToCheckedList() {\r\n    todoList.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        const target = e.target;\r\n\r\n        if (target.tagName === 'P') {\r\n            todoArrChecked[todoArrChecked.length] = target.textContent;\r\n            todoArr.splice(target.parentNode.getAttribute('data-item-id'), 1);\r\n            toLocalStorage();\r\n            itemRender();\r\n        }\r\n    });\r\n\r\n    todoListChecked.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        const target = e.target;\r\n\r\n        if (target.tagName === 'P') {\r\n            todoArr[todoArr.length] = target.textContent;\r\n            todoArrChecked.splice(target.parentNode.getAttribute('data-item-checked-id'), 1);\r\n            toLocalStorage();\r\n            itemRender();\r\n        }\r\n    });\r\n}\r\n\r\n// Функция удаляет все checked item \r\nfunction resetCheckedList() {\r\n    resetBtn.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n\r\n        todoArrChecked = [];    \r\n        toLocalStorage();\r\n        itemRender();\r\n\r\n    });\r\n}\r\n\r\n// Функция изменения текста item'ов\r\nfunction correctItem() {\r\n    function correctItemEvent(list) {\r\n        list.addEventListener('click', (e) => {\r\n            const target = e.target;\r\n            if (target.id === 'correct-btn') {\r\n                const item = target.parentNode;\r\n    \r\n    \r\n                item.firstElementChild.style.display = 'none';\r\n                target.style.display = 'none';\r\n    \r\n                // Создаём форму с инпутом и кнопкой и вставляем её в item\r\n                const correctForm = document.createElement('form');\r\n                correctForm.classList.add('todo-correct-form');\r\n                correctForm.innerHTML = `\r\n                        <input class=\"todo-correct-form__input\" value=\"${item.firstElementChild.textContent}\" type=\"text\" name=\"correct-input\">\r\n                        <button class=\"todo-correct-form__btn\" name=\"correct-btn\"></button>\r\n                `;\r\n                item.insertBefore(correctForm, item.firstElementChild);\r\n    \r\n                const correctInput = item.querySelector('.todo-correct-form__input');\r\n                const correctBtn = item.querySelector('.todo-correct-form__btn');\r\n    \r\n                // Ставим фокус на инпуте и устанавливаем курсор в конце\r\n                correctInput.focus();\r\n                correctInput.selectionStart = correctInput.selectionEnd = correctInput.value.length;\r\n    \r\n                correctBtn.addEventListener('click', (e) => {\r\n                    e.preventDefault();\r\n    \r\n                    // Проверка на пустое значение\r\n                    if (correctInput.value) {\r\n                        // Меняем текст в элементе на значение value из инпута\r\n                        if (list === todoList) {\r\n                            todoArr[target.parentNode.getAttribute('data-item-id')] = correctInput.value;\r\n                        } else if (list === todoListChecked) {\r\n                            todoArrChecked[target.parentNode.getAttribute('data-item-checked-id')] = correctInput.value;\r\n                        }\r\n                    }\r\n                    \r\n    \r\n                    toLocalStorage();\r\n                    itemRender();\r\n                });\r\n                \r\n            }\r\n        });\r\n    }\r\n\r\n    correctItemEvent(todoList);\r\n    correctItemEvent(todoListChecked);\r\n}\r\n\r\n// Инициализируем функции при загрузке страницы\r\nfunction init() {\r\n    toLocalStorage();\r\n    itemRender();\r\n    addNewTodoItem();\r\n    removeTodoItem();\r\n    addToCheckedList();\r\n    resetCheckedList();\r\n    correctItem();\r\n}\r\n\r\ninit();"],"names":["addInput","document","querySelector","addBtn","todoList","todoListChecked","resetBtn","textItem","line","todoArr","localStorage","getItem","JSON","parse","todoArrChecked","itemRender","todoArrParsed","todoArrCheckedParsed","innerHTML","forEach","item","index","elem","createElement","classList","add","setAttribute","appendChild","length","style","display","toLocalStorage","serializedTodos","stringify","setItem","serializedTodosChecked","addNewTodoItem","addEventListener","e","preventDefault","value","removeTodoItem","target","id","splice","parentNode","getAttribute","addToCheckedList","tagName","textContent","resetCheckedList","correctItem","correctItemEvent","list","firstElementChild","correctForm","insertBefore","correctInput","correctBtn","focus","selectionStart","selectionEnd","init"],"sourceRoot":""}