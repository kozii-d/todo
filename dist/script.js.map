{"version":3,"file":"script.js","mappings":"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","sources":["webpack://todo-list/./src/js/main.js"],"sourcesContent":["'use strict';\r\n\r\nconst addInput = document.querySelector('#input'),\r\n    addBtn = document.querySelector('#add-btn'),\r\n    todoList = document.querySelector('#todo-list'),\r\n    todoListChecked = document.querySelector('#todo-list-checked'),\r\n    resetBtn = document.querySelector('#reset-btn'),\r\n    textItem = document.querySelector('.todo-item__text');\r\n\r\n// Создаём новый пустой массив для заметок. Если массив уже лежит в localStorage, то берём его оттуда\r\nlet todoArr = localStorage.getItem('listItem') ? JSON.parse(localStorage.getItem('listItem')) : [];\r\nlet todoArrChecked = localStorage.getItem('listItemChecked') ? JSON.parse(localStorage.getItem('listItemChecked')) : [];\r\n\r\n// Функция рендера заметок из массивов в localStorage\r\nfunction itemRender() {\r\n    const todoArrParsed = JSON.parse(localStorage.getItem('listItem'));\r\n    const todoArrCheckedParsed = JSON.parse(localStorage.getItem('listItemChecked'));\r\n    todoList.innerHTML = '';\r\n    todoListChecked.innerHTML = '';\r\n    todoArrParsed.forEach((item, index) => {\r\n        const elem = document.createElement('div');\r\n        elem.classList.add('todo-item');\r\n        elem.innerHTML = `\r\n            <p class=\"todo-item__text\">${item}</p>\r\n            <button class=\"todo-item__correct-btn\" id=\"correct-btn\"></button>\r\n            <button class=\"todo-item__del-btn\" id=\"del-btn\">&times;</button>\r\n        `;\r\n        elem.setAttribute('data-item-id', index);\r\n        todoList.appendChild(elem);\r\n    });\r\n\r\n    todoArrCheckedParsed.forEach((item, index) => {\r\n        const elem = document.createElement('div');\r\n        elem.classList.add('todo-item', 'todo-item_checked');\r\n        elem.innerHTML = `\r\n            <p class=\"todo-item__text\">${item}</p>\r\n            <button class=\"todo-item__correct-btn\" id=\"correct-btn\"></button>\r\n            <button class=\"todo-item__del-btn\" id=\"del-btn\">&times;</button>\r\n        `;\r\n        elem.setAttribute('data-item-checked-id', index);\r\n        todoListChecked.appendChild(elem);\r\n    });\r\n}\r\n\r\n// Функция отправляет текущий массив в localStorage\r\nfunction toLocalStorage() {\r\n    const serializedTodos = JSON.stringify(todoArr);\r\n    localStorage.setItem('listItem', serializedTodos);\r\n\r\n    const serializedTodosChecked = JSON.stringify(todoArrChecked);\r\n    localStorage.setItem('listItemChecked', serializedTodosChecked);\r\n}\r\n\r\n\r\n// Функция добавляет в текущий массив значение из инпута, а так же отправляет его в localStorage и рендерит\r\nfunction addNewTodoItem() {\r\n    addBtn.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n        if (addInput.value !== '') {\r\n            todoArr[todoArr.length] = addInput.value;\r\n            addInput.value = '';\r\n            toLocalStorage();\r\n            itemRender();\r\n        }\r\n    });\r\n\r\n}\r\n\r\n// Функция удаляет елемент по клику на кнопку, а так же отправляет массив в localStorage и рендерит\r\nfunction removeTodoItem() {\r\n    todoList.addEventListener('click', (e) => {\r\n        const target = e.target;\r\n        if (target.id === 'del-btn') {\r\n            todoArr.splice(target.parentNode.getAttribute('data-item-id'), 1);\r\n            toLocalStorage();\r\n            itemRender();\r\n        }\r\n    });\r\n\r\n    todoListChecked.addEventListener('click', (e) => {\r\n        const target = e.target;\r\n        if (target.id === 'del-btn') {\r\n            todoArrChecked.splice(target.parentNode.getAttribute('data-item-checked-id'), 1);\r\n            toLocalStorage();\r\n            itemRender();\r\n        }\r\n    });\r\n}\r\n\r\n// Функция переносит айтемы в состояние checked и возвращает\r\nfunction addToCheckedList() {\r\n    todoList.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        const target = e.target;\r\n\r\n        if (target.tagName === 'P') {\r\n            todoArrChecked[todoArrChecked.length] = target.textContent;\r\n            todoArr.splice(target.parentNode.getAttribute('data-item-id'), 1);\r\n            toLocalStorage();\r\n            itemRender();\r\n        }\r\n    });\r\n\r\n    todoListChecked.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        const target = e.target;\r\n\r\n        if (target.tagName === 'P') {\r\n            todoArr[todoArr.length] = target.textContent;\r\n            todoArrChecked.splice(target.parentNode.getAttribute('data-item-checked-id'), 1);\r\n            toLocalStorage();\r\n            itemRender();\r\n        }\r\n    });\r\n}\r\n\r\n// Функция удаляет все checked item \r\nfunction resetCheckedList() {\r\n    resetBtn.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n\r\n        todoArrChecked = [];    \r\n        toLocalStorage();\r\n        itemRender();\r\n\r\n    });\r\n}\r\n\r\n// Функция изменения текста item'ов\r\nfunction correctItem() {\r\n    function correctItemEvent(list) {\r\n        list.addEventListener('click', (e) => {\r\n            const target = e.target;\r\n            if (target.id === 'correct-btn') {\r\n                const item = target.parentNode;\r\n    \r\n    \r\n                item.firstElementChild.style.display = 'none';\r\n                target.style.display = 'none';\r\n    \r\n                // Создаём форму с инпутом и кнопкой и вставляем её в item\r\n                const correctForm = document.createElement('form');\r\n                correctForm.classList.add('todo-correct-form');\r\n                correctForm.innerHTML = `\r\n                        <input class=\"todo-correct-form__input\" value=\"${item.firstElementChild.textContent}\" type=\"text\" name=\"correct-input\">\r\n                        <button class=\"todo-correct-form__btn\" name=\"correct-btn\"></button>\r\n                `;\r\n                item.insertBefore(correctForm, item.firstElementChild);\r\n    \r\n                const correctInput = item.querySelector('.todo-correct-form__input');\r\n                const correctBtn = item.querySelector('.todo-correct-form__btn');\r\n    \r\n                // Ставим фокус на инпуте и устанавливаем курсор в конце\r\n                correctInput.focus();\r\n                correctInput.selectionStart = correctInput.selectionEnd = correctInput.value.length;\r\n    \r\n                correctBtn.addEventListener('click', (e) => {\r\n                    e.preventDefault();\r\n    \r\n                    // Проверка на пустое значение\r\n                    if (correctInput.value) {\r\n                        // Меняем текст в элементе на значение value из инпута\r\n                        if (list === todoList) {\r\n                            todoArr[target.parentNode.getAttribute('data-item-id')] = correctInput.value;\r\n                        } else if (list === todoListChecked) {\r\n                            todoArrChecked[target.parentNode.getAttribute('data-item-checked-id')] = correctInput.value;\r\n                        }\r\n                    }\r\n                    \r\n    \r\n                    toLocalStorage();\r\n                    itemRender();\r\n                });\r\n                \r\n            }\r\n        });\r\n    }\r\n\r\n    correctItemEvent(todoList);\r\n    correctItemEvent(todoListChecked);\r\n}\r\n\r\n// Инициализируем функции при загрузке страницы\r\nfunction init() {\r\n    toLocalStorage();\r\n    itemRender();\r\n    addNewTodoItem();\r\n    removeTodoItem();\r\n    addToCheckedList();\r\n    resetCheckedList();\r\n    correctItem();\r\n}\r\n\r\ninit();"],"names":["addInput","document","querySelector","addBtn","todoList","todoListChecked","resetBtn","textItem","todoArr","localStorage","getItem","JSON","parse","todoArrChecked","itemRender","todoArrParsed","todoArrCheckedParsed","innerHTML","forEach","item","index","elem","createElement","classList","add","setAttribute","appendChild","toLocalStorage","serializedTodos","stringify","setItem","serializedTodosChecked","addNewTodoItem","addEventListener","e","preventDefault","value","length","removeTodoItem","target","id","splice","parentNode","getAttribute","addToCheckedList","tagName","textContent","resetCheckedList","correctItem","correctItemEvent","list","firstElementChild","style","display","correctForm","insertBefore","correctInput","correctBtn","focus","selectionStart","selectionEnd","init"],"sourceRoot":""}